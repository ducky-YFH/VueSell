webpackJsonp([0],{0:function(t,s){},"1g2b":function(t,s){},"4iwx":function(t,s){},"7XME":function(t,s){},LEqu:function(t,s){},NHnr:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=i("7+uW"),e={props:["size","score"],computed:{starSize:function(){return"star-"+this.size},starType:function(){for(var t=[],s=Math.floor(2*this.score)/2%1!=0,i=Math.floor(this.score),a=0;a<i;a++)t.push("star-on");for(s&&t.push("star-half");t.length<5;)t.push("star-off");return t}}},n={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"star"},t._l(t.starType,function(s){return i("span",{key:s,staticClass:"star-item",class:[t.starSize,s]})}),0)},staticRenderFns:[]};var o=i("VU/8")(e,n,!1,function(t){i("zK6U")},"data-v-44de43b0",null).exports,l={data:function(){return{detailShow:!1}},props:["seller"],created:function(){this.classMap=["decrease","discount","guarantee","invoice","special"]},components:{star:o}},c={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"header"},[i("div",{staticClass:"content-wrapper"},[i("div",{staticClass:"avatar"},[i("img",{attrs:{width:"64",height:"64",src:t.seller.avatar,alt:""}})]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"title"},[i("span",{staticClass:"brand"}),t._v(" "),i("span",{staticClass:"name"},[t._v(t._s(t.seller.name))])]),t._v(" "),i("div",{staticClass:"description"},[t._v(t._s(t.seller.description)+"/"+t._s(t.seller.deliveryTime)+"分钟送达")]),t._v(" "),t.seller.supports?i("div",{staticClass:"support"},[i("span",{staticClass:"icon",class:t.classMap[t.seller.supports[0].type]}),t._v(" "),i("span",{staticClass:"text"},[t._v(t._s(t.seller.supports[0].description))])]):t._e(),t._v(" "),t.seller.supports?i("div",{staticClass:"support-count",on:{click:function(s){t.detailShow=!t.detailShow}}},[i("span",{staticClass:"count"},[t._v(t._s(t.seller.supports.length)+"个")]),t._v(" "),i("i",[t._v(">")])]):t._e()])]),t._v(" "),i("div",{staticClass:"bulletin-wrapper"},[i("span",{staticClass:"bulletin-title"}),t._v(" "),i("span",{staticClass:"bulletin-text"},[t._v(t._s(t.seller.bulletin))]),t._v(" "),i("i",[t._v(">")])]),t._v(" "),i("div",{staticClass:"background"},[i("img",{attrs:{src:t.seller.avatar,alt:""}})]),t._v(" "),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.detailShow,expression:"detailShow"}],staticClass:"detail"},[i("div",{staticClass:"detail-wrapper clearfix"},[i("div",{staticClass:"detail-main"},[i("h1",{staticClass:"name"},[t._v(t._s(t.seller.name))]),t._v(" "),i("star",{staticClass:"star-wrapper",attrs:{size:48,score:t.seller.score}}),t._v(" "),i("div",{staticClass:"title"},[i("div",{staticClass:"line"}),t._v(" "),i("div",{staticClass:"text"},[t._v("优惠信息")]),t._v(" "),i("div",{staticClass:"line"})]),t._v(" "),t.seller.supports?i("div",{staticClass:"discounts"},[i("ul",t._l(t.seller.supports,function(s,a){return i("li",{key:a},[i("span",{staticClass:"icon",class:t.classMap[s.type]}),t._v(" "),i("span",{staticClass:"description"},[t._v(t._s(s.description))])])}),0)]):t._e(),t._v(" "),i("div",{staticClass:"title"},[i("div",{staticClass:"line"}),t._v(" "),i("div",{staticClass:"text"},[t._v("商家公告")]),t._v(" "),i("div",{staticClass:"line"})]),t._v(" "),i("div",{staticClass:"bulletin"},[i("p",[t._v(t._s(t.seller.bulletin))])])],1)]),t._v(" "),i("div",{staticClass:"detail-close"},[i("span",{staticClass:"iconfont icon-guanbi",on:{click:function(s){t.detailShow=!t.detailShow}}})])])])],1)},staticRenderFns:[]};var r={name:"App",data:function(){return{seller:" "}},components:{"v-header":i("VU/8")(l,c,!1,function(t){i("ReKR")},null,null).exports},methods:{},created:function(){var t=this;this.$http.get("/api/seller").then(function(s){0===s.body.errno&&(t.seller=s.body.data)})}},v={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{attrs:{id:"app"}},[i("v-header",{attrs:{seller:t.seller}}),t._v(" "),i("div",{staticClass:"tap"},[i("div",{staticClass:"tap-item"},[i("router-link",{attrs:{to:"/goods"}},[t._v("商品")])],1),t._v(" "),i("div",{staticClass:"tap-item"},[i("router-link",{attrs:{to:"/ratings"}},[t._v("评论")])],1),t._v(" "),i("div",{staticClass:"tap-item"},[i("router-link",{attrs:{to:"seller"}},[t._v("商家")])],1)]),t._v(" "),i("div",{staticClass:"content"},[i("keep-alive",[i("router-view")],1)],1)],1)},staticRenderFns:[]};var d=i("VU/8")(r,v,!1,function(t){i("zqe8")},"data-v-25ba3dc0",null).exports,u=i("/ocq"),p=i("GQaK"),h={data:function(){return{countFlag:!1,minPrice:20,editFlag:!1}},methods:{_initScroll:function(){this.left=new p.a(this.$refs.wrapper,{click:!0})},delOrAdd:function(t,s){var i=this.$store.state.foodList,a=i.find(function(s){return s.name===t});s&&a.count++,!s&&a.count>0&&(a.count--,a.count<=0&&i.forEach(function(t,s){0===t.count&&i.splice(s,1)}))},clear:function(){this.$store.state.foodList=[],this.editFlag=!this.editFlag}},mounted:function(){this._initScroll()},computed:{getMinPrice:function(){var t=20,s=this.$store.getters.getPrice;return s?(t-=s)<=0?"去结算":"还差"+t+"元":"￥"+t+"起送"}}},_={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"shoppingCart"},[i("div",{staticClass:"logoWrapper",on:{click:function(s){t.editFlag=!t.editFlag}}},[i("span",{staticClass:"logo iconfont icon-shoppingCart",class:0!==this.$store.getters.getCount?"logoActive":"",attrs:{id:"cart"}}),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:0!==this.$store.getters.getCount,expression:"this.$store.getters.getCount !== 0 ? true : false"}],staticClass:"count"},[t._v(t._s(this.$store.getters.getCount))])]),t._v(" "),i("div",{staticClass:"mainWrapper",on:{click:function(s){t.editFlag=!t.editFlag}}},[i("span",{staticClass:"price",class:0!==this.$store.getters.getPrice?"priceActive":""},[t._v("￥"+t._s(this.$store.getters.getPrice))]),t._v(" "),i("span",{staticClass:"tip"},[t._v("另需配送费￥4元")]),t._v(" "),i("span",{staticClass:"buy",class:"去结算"==t.getMinPrice?"buyActive":""},[t._v(t._s(t.getMinPrice))])]),t._v(" "),i("transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.editFlag,expression:"editFlag"}],staticClass:"edit-wrapper"},[i("div",{staticClass:"edit-title"},[i("span",{staticClass:"title"},[t._v("购物车")]),t._v(" "),i("span",{staticClass:"clear",on:{click:t.clear}},[t._v("清空")])]),t._v(" "),i("div",{ref:"wrapper",staticClass:"edit-content"},[i("ul",t._l(this.$store.state.foodList,function(s,a){return i("li",{key:a,staticClass:"edit-item"},[i("span",{staticClass:"title"},[t._v(t._s(s.name))]),t._v(" "),i("span",{staticClass:"price"},[t._v("￥"+t._s(s.price*s.count))]),t._v(" "),i("span",{staticClass:"control"},[i("span",{staticClass:"del",on:{click:function(i){return t.delOrAdd(s.name,t.flag=!1)}}},[t._v("-")]),t._v(" "),i("span",{staticClass:"count"},[t._v(t._s(s.count))]),t._v(" "),i("span",{staticClass:"add",on:{click:function(i){return t.delOrAdd(s.name,t.flag=!0)}}},[t._v("+")])])])}),0)])])])],1)},staticRenderFns:[]};var g={data:function(){return{goodRating:[],badRating:[],allRating:[],justRating:[],native:0,onlyFlag:!1}},props:["food"],methods:{_initScroll:function(){this.scroll=new p.a(this.$refs.foodWrapper,{click:!0})},foodShow:function(){this.$store.state.foodShow=!1},getFood:function(){console.log(this.$store.state.foodList)},getRating:function(){var t=this;this.allRating=this.food.ratings,this.food.ratings.forEach(function(s){1===s.rateType?t.badRating.push(s):t.goodRating.push(s)})},getNative:function(t){0===t&&(this.native=0,this.onlyFlag?this.allRating=this.justRating:this.allRating=this.food.ratings),1===t&&(this.native=1,this.allRating=this.goodRating),2===t&&(this.native=2,this.allRating=this.badRating)},onlyRating:function(){var t=this;this.onlyFlag=!this.onlyFlag,this.allRating=[],this.goodRating=[],this.badRating=[],this.justRating=[],this.onlyFlag?(this.food.ratings.forEach(function(s){""!==s.text&&t.justRating.push(s),""!==s.text&&0===s.rateType&&t.goodRating.push(s),""!==s.text&&1===s.rateType&&(t.badRating.push(s),console.log(t.badRating))}),0===this.native&&(this.allRating=this.justRating),1===this.native&&(this.allRating=this.goodRating),2===this.native&&(this.allRating=this.badRating)):this.getRating()},delOrAdd:function(t){var s=this,i=this.$store.state.foodList,a=i.find(function(t){return t.name===s.food.name});t&&a.count++,!t&&a.count>0&&(a.count--,a.count<=0&&i.forEach(function(t,s){0===t.count&&i.splice(s,1)}))},addCart:function(){var t={name:this.food.name,price:this.food.price,count:1};this.$store.state.foodList.push(t)}},created:function(){this.getRating()},mounted:function(){var t=this;this.$nextTick(function(){t._initScroll()})},updated:function(){this.scroll.refresh()},computed:{getCount:function(){var t=this,s=0;return this.$store.state.foodList.some(function(i){i.name===t.food.name&&(s=i.count)}),s}}},f={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{ref:"foodWrapper",staticClass:"foodWrapper"},[i("div",{staticClass:"foodContent"},[i("div",{staticClass:"header"},[i("span",{staticClass:"back iconfont icon-houtui",on:{click:t.foodShow}}),t._v(" "),i("img",{attrs:{src:t.food.image,alt:""}}),t._v(" "),i("div",{staticClass:"sell"},[i("h3",{staticClass:"title",on:{click:t.getFood}},[t._v(t._s(t.food.name))]),t._v(" "),i("p",[t._v("月销"+t._s(t.food.sellCount)+"份   好评率"+t._s(t.food.rating)+"%")]),t._v(" "),i("div",[i("span",{staticClass:"price"},[t._v("￥"+t._s(t.food.price))]),t._v(" "),t.getCount<=0?i("span",{staticClass:"addCart",on:{click:function(s){return t.addCart()}}},[t._v("加入购物车")]):t._e()]),t._v(" "),t.getCount>0?i("span",{staticClass:"control"},[i("span",{staticClass:"del",on:{click:function(s){return t.delOrAdd(t.flag=!1)}}},[t._v("-")]),t._v(" "),i("span",{staticClass:"count"},[t._v(t._s(t.getCount))]),t._v(" "),i("span",{staticClass:"add",on:{click:function(s){return t.delOrAdd(t.flag=!0)}}},[t._v("+")])]):t._e()])]),t._v(" "),t.food.info?i("div",{staticClass:"center"},[i("h3",[t._v("商品介绍")]),t._v(" "),i("p",[t._v(t._s(t.food.info))])]):t._e(),t._v(" "),i("div",{staticClass:"footer"},[i("h3",[t._v("商品评价")]),t._v(" "),i("div",{staticClass:"btn"},[i("span",{class:{native:0===t.native},on:{click:function(s){return t.getNative(0)}}},[t._v("全部"+t._s(t.goodRating.length+t.badRating.length))]),t._v(" "),i("span",{class:{native:1===t.native},on:{click:function(s){return t.getNative(1)}}},[t._v("推荐"+t._s(t.goodRating.length))]),t._v(" "),i("span",{class:{native2:2===t.native},on:{click:function(s){return t.getNative(2)}}},[t._v("吐槽"+t._s(t.badRating.length))])]),t._v(" "),i("div",{staticClass:"comment"},[i("div",{staticClass:"select",on:{click:function(s){return t.onlyRating()}}},[i("span",{staticClass:"tick iconfont icon-pinglun",class:{native:t.onlyFlag}}),t._v(" "),i("span",{staticClass:"reminder"},[t._v("只查看内容的评价")])]),t._v(" "),i("ul",t._l(t.allRating,function(s,a){return i("li",{key:a,staticClass:"comment-item"},[i("span",{staticClass:"date"},[t._v(t._s(s.rateTime))]),t._v(" "),i("div",{staticClass:"user"},[i("span",{staticClass:"id"},[t._v(t._s(s.username))]),t._v(" "),i("span",{staticClass:"avatar"},[i("img",{attrs:{src:s.avatar,alt:""}})])]),t._v(" "),i("div",{staticClass:"rating"},[i("span",{staticClass:"logo iconfont icon-zan"}),t._v(" "),i("span",{staticClass:"con"},[t._v(t._s(s.text))])])])}),0)])])])])},staticRenderFns:[]};var C={data:function(){return{goods:[],classMap:["decrease","discount","guarantee","invoice","special"],listHeight:[],scrollY:0,clickEvent:!1,flag:!1,foodList:this.$store.state.foodList,food:""}},components:{shoppingCart:i("VU/8")(h,_,!1,function(t){i("xEdk")},"data-v-23d9a4d5",null).exports,food:i("VU/8")(g,f,!1,function(t){i("t7/Q")},"data-v-b9b43e82",null).exports},methods:{getGoods:function(){var t=this;this.$http.get("/api/goods").then(function(s){0===(s=s.data).errno&&(t.goods=s.data,console.log(t.goods))})},_initScroll:function(){var t=this;this.left=new p.a(this.$refs.left,{click:!0}),this.right=new p.a(this.$refs.right,{click:!0,probeType:3}),this.right.on("scroll",function(s){t.scrollY=Math.abs(Math.round(s.y))})},_getHeight:function(){var t=this.$refs.right.getElementsByClassName("main-item"),s=0;this.listHeight.push(s),console.log(t.length);for(var i=0;i<t.length;i++){s+=t[i].clientHeight,this.listHeight.push(s)}},selectItem:function(t,s){if(this.clickEvent=!0,!s._constructed)return"";var i=this.$refs.right.getElementsByClassName("main-item")[t];this.right.scrollToElement(i,300)},addOrDel:function(t,s,i){var a=this;(this.foodList=this.$store.state.foodList,0!==this.foodList.length)&&(this.foodList.some(function(s,a){s.name===t&&i&&s.count++,s.name!==t||i||s.count--}),void 0===this.foodList.find(function(s){return s.name===t})&&this.foodList.push({name:t,price:s,count:1}));0===this.foodList.length&&i&&this.foodList.push({name:t,price:s,count:1}),this.foodList.forEach(function(t,s){0===t.count&&a.foodList.splice(s,1)}),this.$store.commit("addToList",this.foodList)},selectFood:function(t){this.$store.state.foodShow=!0,this.food=t}},created:function(){this.getGoods()},mounted:function(){var t=this;setTimeout(function(){t.$nextTick(function(){t._initScroll(),t._getHeight()})},500)},computed:{currentIndex:function(){for(var t=0;t<this.listHeight.length;t++){var s=this.listHeight[t],i=this.listHeight[t+1];if(!i||this.scrollY>=s&&this.scrollY<i)return t}return 0},everyCount:function(t){return function(t){var s=0;return this.foodList.forEach(function(i){i.name===t&&(s=i.count)}),s}}}},m={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"goods"},[i("div",{ref:"left",staticClass:"menu-wrapper wrapper"},[i("ul",{staticClass:"menuContent"},t._l(t.goods,function(s,a){return i("li",{key:a,staticClass:"menu-item",class:{current:t.currentIndex===a},on:{click:function(s){return t.selectItem(a,s)}}},[i("span",{staticClass:"text"},[i("span",{directives:[{name:"show",rawName:"v-show",value:s.type>0,expression:"item.type > 0"}],staticClass:"icon",class:t.classMap[s.type]}),t._v("\n          "+t._s(s.name)+"\n        ")])])}),0)]),t._v(" "),i("div",{ref:"right",staticClass:"main-wrapper"},[i("ul",{staticClass:"mainContent"},t._l(t.goods,function(s,a){return i("li",{key:a,staticClass:"main-item"},[i("h3",{staticClass:"title"},[t._v(t._s(s.name))]),t._v(" "),i("ul",t._l(s.foods,function(s,a){return i("li",{key:a,staticClass:"foods-item",on:{click:function(i){return t.selectFood(s)}}},[i("div",{staticClass:"ball"}),t._v(" "),i("transition",[i("span",{directives:[{name:"show",rawName:"v-show",value:t.everyCount(s.name)>0,expression:"everyCount(food.name) > 0"}],staticClass:"del",on:{click:function(i){return i.stopPropagation(),t.addOrDel(s.name,s.price,t.flag=!1)}}},[t._v("-")])]),t._v(" "),i("transition",[i("span",{directives:[{name:"show",rawName:"v-show",value:t.everyCount(s.name)>0,expression:"everyCount(food.name) > 0"}],staticClass:"count"},[t._v(t._s(t.everyCount(s.name)))])]),t._v(" "),i("span",{staticClass:"add",on:{click:function(i){return i.stopPropagation(),t.addOrDel(s.name,s.price,t.flag=!0)}}},[t._v("+")]),t._v(" "),i("div",{staticClass:"icon"},[i("img",{attrs:{src:s.icon,alt:""}})]),t._v(" "),i("div",{staticClass:"detail"},[i("h3",[t._v(t._s(s.name))]),t._v(" "),s.description?i("p",{staticClass:"description"},[t._v(t._s(s.description))]):t._e(),t._v(" "),i("p",{staticClass:"sellCount"},[t._v("月销"+t._s(s.sellCount)+"份  好评率"+t._s(s.rating)+"%")]),t._v(" "),i("div",{staticClass:"price"},[i("span",{staticClass:"nowPrice"},[t._v("￥"+t._s(s.price))]),t._v(" "),""!==s.oldPrice?i("span",{staticClass:"oldPrice"},[t._v("￥"+t._s(s.oldPrice))]):t._e()])])],1)}),0)])}),0)]),t._v(" "),i("shoppingCart"),t._v(" "),this.$store.state.foodShow?i("food",{attrs:{food:t.food}}):t._e()],1)},staticRenderFns:[]};var R=i("VU/8")(C,m,!1,function(t){i("7XME")},"data-v-6360491b",null).exports,y={data:function(){return{collectFlag:!1,seller:{},classMap:["decrease","discount","guarantee","invoice","special"]}},methods:{_initScroll:function(){this.scroll=new p.a(this.$refs.sellerWrapper,{click:!0}),this.scroll2=new p.a(this.$refs.imgWrapper,{scrollX:!0,click:!0})},getSeller:function(){var t=this;this.$http.get("/api/seller").then(function(s){0===(s=s.data).errno&&(t.seller=s.data)},function(){console.log("请求seller路径有错")})},addCollect:function(){var t=this;this.collectFlag=!this.collectFlag;var s=this.$store.state.collect;this.collectFlag?s.push(this.seller.name):s.some(function(i,a){i===t.seller.name&&s.splice(a,1)})},judgeCollect:function(){var t=this,s=this.$store.state.collect;console.log(s),s.some(function(s,i){s===t.seller.name&&(t.collectFlag=!0)})}},created:function(){this.getSeller(),this.judgeCollect()},components:{star:o},updated:function(){this.scroll.refresh(),this.scroll2.refresh()},mounted:function(){var t=this;this.$nextTick(function(){t._initScroll()})}},w={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{ref:"sellerWrapper",staticClass:"seller-wrapper"},[i("div",{staticClass:"seller-content"},[i("div",{staticClass:"seller"},[i("h1",{staticClass:"title"},[t._v(t._s(t.seller.name))]),t._v(" "),i("div",{staticClass:"star-wrapper"},[i("star",{staticClass:"star",attrs:{size:36,score:t.seller.score}}),t._v(" "),i("span",{staticClass:"num"},[t._v("("+t._s(t.seller.ratingCount)+")")]),t._v("  \n        "),i("span",{staticClass:"count"},[t._v("月销"+t._s(t.seller.sellCount)+"单")])],1),t._v(" "),i("div",{staticClass:"delivery"},[i("div",{staticClass:"delivery-item"},[i("p",{staticClass:"title"},[t._v("起送价")]),t._v(" "),i("p",[i("span",{staticClass:"price"},[t._v(t._s(t.seller.minPrice))]),t._v(" "),i("span",{staticClass:"unit"},[t._v("元")])])]),t._v(" "),i("div",{staticClass:"delivery-item"},[i("p",{staticClass:"title"},[t._v("商家配送")]),t._v(" "),i("p",[i("span",{staticClass:"price"},[t._v(t._s(t.seller.deliveryPrice))]),t._v(" "),i("span",{staticClass:"unit"},[t._v("元")])])]),t._v(" "),i("div",{staticClass:"delivery-item"},[i("p",{staticClass:"title"},[t._v("平均配送时间")]),t._v(" "),i("p",[i("span",{staticClass:"price"},[t._v(t._s(t.seller.deliveryTime))]),t._v(" "),i("span",{staticClass:"unit"},[t._v("分钟")])])])]),t._v(" "),i("div",{staticClass:"love",class:{native:t.collectFlag},on:{click:function(s){return t.addCollect()}}},[i("span",{staticClass:"iconfont icon-shoucang"}),t._v(" "),i("p",[t._v(t._s(t.collectFlag?"已":"")+"收藏")])])]),t._v(" "),i("div",{staticClass:"activity"},[i("h1",[t._v("公告与活动")]),t._v(" "),i("p",{staticClass:"text"},[t._v(t._s(t.seller.bulletin))]),t._v(" "),i("ul",t._l(t.seller.supports,function(s,a){return i("li",{key:a},[i("span",{staticClass:"icon",class:t.classMap[s.type]}),t._v(" "),i("span",{staticClass:"text2"},[t._v(t._s(s.description))])])}),0)]),t._v(" "),i("div",{staticClass:"pic"},[i("h1",[t._v("商家实景")]),t._v(" "),i("div",{ref:"imgWrapper",staticClass:"pic-wrapper"},[i("ul",t._l(t.seller.pics,function(t,s){return i("li",{key:s},[i("img",{attrs:{src:t,alt:""}})])}),0)])]),t._v(" "),i("div",{staticClass:"message"},[i("h1",[t._v("商家信息")]),t._v(" "),i("ul",t._l(t.seller.infos,function(s,a){return i("li",{key:a},[i("p",[t._v(t._s(s))])])}),0)])])])},staticRenderFns:[]};var k=i("VU/8")(y,w,!1,function(t){i("4iwx")},"data-v-c0510056",null).exports,b={data:function(){return{seller:{},allRatings:[],badRating:[],goodRating:[],justRating:[],currentRating:[],native:0,onlyFlag:!1}},methods:{_initScroll:function(){this.scroll=new p.a(this.$refs.wrapper,{click:!0})},getAllRatings:function(){var t=this;this.$http.get("/api/ratings").then(function(s){0===(s=s.data).errno&&(t.allRatings=s.data,t.getRating())},function(){console.log("请求路径有错")})},getSeller:function(){var t=this;this.$http.get("/api/seller").then(function(s){0===(s=s.data).errno&&(t.seller=s.data)},function(){console.log("请求路径有错")})},getRating:function(){var t=this;this.currentRating=this.allRatings,this.allRatings.forEach(function(s){1===s.rateType?t.badRating.push(s):t.goodRating.push(s)})},getNative:function(t){0===t&&(this.native=0,this.onlyFlag?this.currentRating=this.justRating:this.currentRating=this.allRatings),1===t&&(this.native=1,this.currentRating=this.goodRating),2===t&&(this.native=2,this.currentRating=this.badRating)},onlyRating:function(){var t=this;this.onlyFlag=!this.onlyFlag,this.currentRating=[],this.goodRating=[],this.badRating=[],this.justRating=[],this.onlyFlag?(this.allRatings.forEach(function(s){""!==s.text&&t.justRating.push(s),""!==s.text&&0===s.rateType&&t.goodRating.push(s),""!==s.text&&1===s.rateType&&t.badRating.push(s)}),0===this.native&&(this.currentRating=this.justRating),1===this.native&&(this.currentRating=this.goodRating),2===this.native&&(this.currentRating=this.badRating)):this.getRating()}},created:function(){this.getSeller(),this.getAllRatings()},mounted:function(){var t=this;this.$nextTick(function(){t._initScroll()})},updated:function(){this.scroll.refresh()},components:{star:o}},$={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{ref:"wrapper",staticClass:"ratingsWrapper"},[i("div",{staticClass:"ratingsCon"},[i("div",{staticClass:"top"},[i("div",{staticClass:"top-left"},[i("h1",{staticClass:"score"},[t._v(t._s(t.seller.score))]),t._v(" "),i("p",{staticClass:"text"},[t._v("综合评分")]),t._v(" "),i("p",{staticClass:"text2"},[t._v("高于周边商家"+t._s(t.seller.rankRate)+"%")])]),t._v(" "),i("div",{staticClass:"top-right"},[i("div",{staticClass:"manner"},[i("span",{staticClass:"server"},[t._v("服务态度")]),t._v(" "),i("span",{staticClass:"grade"},[i("star",{staticClass:"star-wrapper",attrs:{size:36,score:t.seller.serviceScore}})],1),t._v(" "),i("span",{staticClass:"score"},[t._v(t._s(t.seller.serviceScore))])]),t._v(" "),i("div",{staticClass:"goods"},[i("span",{staticClass:"server"},[t._v("商品评分")]),t._v(" "),i("span",{staticClass:"grade"},[i("star",{staticClass:"star-wrapper",attrs:{size:36,score:t.seller.foodScore}})],1),t._v(" "),i("span",{staticClass:"score"},[t._v(t._s(t.seller.foodScore))])]),t._v(" "),i("div",{staticClass:"arrive"},[i("span",{staticClass:"arriveTime"},[t._v("送达时间")]),t._v("  \n          "),i("span",{staticClass:"minute"},[t._v(t._s(t.seller.deliveryTime)+"分钟")])])])]),t._v(" "),i("div",{staticClass:"bottom"},[i("div",{staticClass:"btn"},[i("span",{class:{native:0===t.native},on:{click:function(s){return t.getNative(0)}}},[t._v("全部"+t._s(t.goodRating.length+t.badRating.length))]),t._v(" "),i("span",{class:{native:1===t.native},on:{click:function(s){return t.getNative(1)}}},[t._v("推荐"+t._s(t.goodRating.length))]),t._v(" "),i("span",{class:{native:2===t.native},on:{click:function(s){return t.getNative(2)}}},[t._v("吐槽"+t._s(t.badRating.length))])]),t._v(" "),i("div",{staticClass:"comment"},[i("div",{staticClass:"select",on:{click:function(s){return t.onlyRating()}}},[i("span",{staticClass:"tick iconfont icon-pinglun",class:{native:t.onlyFlag}}),t._v(" "),i("span",{staticClass:"reminder"},[t._v("只查看内容的评价")])]),t._v(" "),i("ul",t._l(t.currentRating,function(s,a){return i("li",{key:a,staticClass:"comment-item"},[i("span",{staticClass:"date"},[t._v(t._s(s.rateTime))]),t._v(" "),i("div",{staticClass:"user"},[i("span",{staticClass:"id"},[t._v(t._s(s.username))]),t._v(" "),i("span",{staticClass:"avatar"},[i("img",{attrs:{src:s.avatar,alt:""}})])]),t._v(" "),i("div",{staticClass:"rating"},[i("span",{staticClass:"logo iconfont icon-zan"}),t._v(" "),i("span",{staticClass:"con"},[t._v(t._s(s.text))])])])}),0)])])])])},staticRenderFns:[]};var x=i("VU/8")(b,$,!1,function(t){i("LEqu")},"data-v-4abb2c13",null).exports;a.a.use(u.a);var F=new u.a({linkActiveClass:"active",routes:[{path:"/",redirect:"goods"},{path:"/goods",component:R},{path:"/ratings",component:x},{path:"/seller",component:k}]}),S=i("8+8L"),L=(i("1g2b"),i("NYxO"));a.a.use(L.a);var E=new L.a.Store({state:{foodList:[],foodShow:!1,collect:[]},mutations:{addToList:function(t,s){t.foodList=s}},getters:{getCount:function(t){var s=0;return t.foodList.forEach(function(t){s+=t.count}),s},getPrice:function(t){var s=0;return t.foodList.forEach(function(t){s+=t.price*t.count}),s}}});a.a.config.productionTip=!1,a.a.use(S.a),new a.a({el:"#app",router:F,store:E,components:{App:d},template:"<App/>"})},ReKR:function(t,s){},"t7/Q":function(t,s){},xEdk:function(t,s){},zK6U:function(t,s){},zqe8:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.51302aba79efd1020819.js.map